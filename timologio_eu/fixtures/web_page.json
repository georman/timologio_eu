[
 {
  "css": null, 
  "description": null, 
  "docstatus": 0, 
  "doctype": "Web Page", 
  "enable_comments": 0, 
  "header": null, 
  "insert_code": 1, 
  "insert_style": 0, 
  "javascript": "$(document).ready(function() {\n\n  // button for sign-up event\n\n  $('.btn-request').click(function() {\n\n    // hide any message\n    $(\"#form-alert\").toggle(false);\n\n    var args = {\n        sender_name: $('[name=\"sender_name\"]').val(),\n        subdomain: $('[name=\"subdomain\"]').val(),\n        company_name: $('[name=\"company_name\"]').val(),\n        company_afm: $('[name=\"company_afm\"]').val(),\n        email: $('[name=\"email\"]').val(),\n        phone: $('[name=\"phone\"]').val(),\n        product: $('[name=\"product\"]').val(),\n      }\n\n    // all mandatory\n    if(!(args.sender_name && args.company_name && args.company_afm && args.subdomain && args.email\n        && args.phone)) {\n       frappe.msgprint(\"All fields are necessary. Please try again.\");\n       return;\n    }\n\n\t\t// email is valid\n\t\tif(!valid_email(args.email)) {\n\t\t\tfrappe.msgprint('Please enter a valid Email Address.');\n\t\t\treturn false;\n\t\t}\n\n    \t\t// subdomain in one word\n\t\tif(args.subdomain.search(/^[a-z0-9][-a-z0-9]*[a-z0-9]$/)===-1) {\n\t\t\tfrappe.msgprint(\"Sub-domain can only contain letters, numbers and hyphens. Please try again.\");\n\t\t\treturn false;\n\t\t}\n\n\t\tvar MAX_LENGTH = 20;\n\t\tif(args.subdomain.length > MAX_LENGTH) {\n\t\t\tfrappe.msgprint(\"Sub-domain can not have more than \" + MAX_LENGTH + \" characters.\");\n\t\t\treturn false;\n\t\t}\n\n    // compose the message\n    var message = \"Company: \" + args.company_name + \"\\n\"\n        + \"AFM: \" + args.company_afm + \"\\n\"\n        + \"Name: \" + args.sender_name + \"\\n\"\n        + \"Subdomain: \" + args.subdomain + \"\\n\"\n        + \"Email: \" + args.email + \"\\n\"\n        + \"Phone: \" + args.phone + \"\\n\"\n        + \"Product: \" + args.product\n\n    erpnext.send_message({\n      subject:'New Website Query',\n      sender: $('[name=\"email\"]').val(),\n      status: 'Open',\n      message: message,\n      callback: function(r) {\n            // print return message\n        msgprint(r.message);\n\nif(r.message===\"okay\") {\n\t\t\tfrappe.msgprint(\"Ta kataferes filarako.\");\n\t\t\t\n\t\t}\n\n\n            // clear all inputs\n        $(':input').val('');\n      }\n    });\n  });\n\n});\n\nvar msgprint = function(txt) {\n    $(\"#form-alert\").html(txt).toggle(true);\n}", 
  "main_section": "<!-- no-sidebar -->\n\n<h1 class=\"text-center\">\n\tSign Up\n</h1>\n\n<br>\n<div class=\"container\" style=\"max-width: 700px;\">\n    <div class=\"row\">\n        <div class=\"col-sm-offset-2 col-sm-8\">\n            <div class=\"form-group\">\n                <div class=\"input-group\">\n                    <input name=\"subdomain\" placeholder=\"mycompany\" class=\"form-control\" type=\"text\">\t<span class=\"input-group-addon\">.timologio.gr</span>\n\n                </div>\n                <p class=\"help-block\">Your subdomain i.e. https://<strong class=\"subdomain-help\">mycompany</strong>.timologio.gr\n                    <br>Must contain only letters, no spaces, numbers or special characters.</p>\n            </div>\n            <div class=\"form-group\">\n                <input name=\"company_name\" placeholder=\"My Company\" class=\"form-control\" type=\"text\">\n                <p class=\"help-block\">Full Name of your Company</p>\n            </div>\n            <div class=\"form-group\">\n                <input name=\"company_afm\" placeholder=\"123456789\" class=\"form-control\" type=\"text\">\n                <p class=\"help-block\">AFM of your Company</p>\n            </div>\n            <div class=\"form-group\">\n                <input name=\"sender_name\" placeholder=\"Jane Doe\" class=\"form-control\" type=\"text\">\n                <p class=\"help-block\">Your First and Last Name <em>(will appear in your user id)</em>\n\n                </p>\n            </div>\n            <div class=\"form-group\">\n                <input name=\"email\" placeholder=\"jane_doe@example.com\" class=\"form-control\" type=\"text\">\n                <p class=\"help-block\">Your Email Address <em>(your login details will be emailed here)</em>\n\n                </p>\n            </div>\n            <div class=\"form-group\">\n                <input name=\"phone\" placeholder=\"210 1234567\" class=\"form-control\" type=\"text\">\n                <p class=\"help-block\">Your Phone Number</p>\n            </div>\n            <div class=\"form-group\">\n                <p class=\"help-block\">Which Product are you interested in?</p>\n                <select name=\"product\">\n                    <option value=\"Product 1\">Product 1</option>\n                    <option value=\"Product 2\">Product 2</option>\n                    <option value=\"Product 3\">Product 3</option>\n                </select>\n                <br>\n                <br>\n                <div id=\"form-alert\" class=\"alert\" style=\"display: none; margin-bottom: 10px;\"></div>\n                <div class=\"form-group text-center\">\n                    <button class=\"large blue button btn btn-success btn-request\">Send Inquiry</button>\n                    <br>\n                </div>\n                <br>\n            </div>\n        </div>\n    </div>\n</div>", 
  "modified": "2016-01-21 01:32:49.611946", 
  "name": "sign-up", 
  "page_name": "sign-up", 
  "parent_web_page": null, 
  "parent_website_route": null, 
  "published": 1, 
  "show_title": 0, 
  "slideshow": null, 
  "template_path": null, 
  "text_align": "Left", 
  "title": "Sign Up"
 }
]